# 花钱的时机

产品生产、维护和维修都是开始时花钱

# 维修与维护的关系

- 维护**开始**时就刷新维修
- 维修刷新时间要加上一个维护的长度
- 维修维护互换同理
- 交货独立于维修或维护计算

# 维护或维修期间延后其他事件

- 维护或维修开始时直接令生产出产品的时间**延后**对应的区间时长

# 满仓时

- 满仓和生产中触发事件的机制是一样的
- 满仓状态本质上是生产中状态，在代码里用变量ns_full表示是否满仓
- 满仓状态和生产中状态唯一的区别在于，满仓状态生产出一个产品，并不会放进仓库

# 状态-事件驱动表

| <sub>事件</sub> \ <sup>状态</sup> |   1   |   2   |   3   |
| :-------------------------------: | :---: | :---: | :---: |
|                e1                 |  c1   |       |       |
|                e2                 |       |  c2   |       |
|                e3                 |  c3   |       |       |
|                e4                 |       |       |  c4   |
|                e5                 |  c5   |       |       |
|                e6                 |  c6   |  c6   |  c6   |
